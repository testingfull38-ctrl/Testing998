<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tonive - Free TON Faucet</title>
    <script src="https://cdn.tonconnect.dev/tonconnect-2.0.0.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    animation: {
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'bounce-slow': 'bounce 3s infinite'
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            min-height: 100vh;
        }
        .ton-gradient {
            background: linear-gradient(90deg, #0088cc 0%, #2aabee 100%);
        }
        .progress-bar {
            height: 8px;
            background: linear-gradient(90deg, #4ade80 0%, #22c55e 50%, #16a34a 100%);
            animation: progress-animation 30m linear infinite;
        }
        @keyframes progress-animation {
            0% { width: 0%; }
            100% { width: 100%; }
        }
        .testimonial-card {
            box-shadow: 0 10px 30px -10px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
        }
        .testimonial-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px -10px rgba(0, 0, 0, 0.4);
        }
        .wallet-connected {
            animation: wallet-pulse 2s infinite;
        }
        @keyframes wallet-pulse {
            0% { box-shadow: 0 0 0 0 rgba(74, 222, 128, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(74, 222, 128, 0); }
            100% { box-shadow: 0 0 0 0 rgba(74, 222, 128, 0); }
        }
        .claiming-animation {
            animation: claim-pulse 1.5s infinite;
        }
        @keyframes claim-pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #f0f;
            opacity: 0;
        }
        .notification {
            position: fixed;
            top: 1rem;
            right: 1rem;
            z-index: 1000;
            padding: 1rem;
            border-radius: 0.5rem;
            color: white;
            max-width: 300px;
        }
    </style>
</head>
<body class="text-gray-100">
    <!-- Header -->
    <header class="py-4 px-6 flex justify-between items-center">
        <div class="flex items-center space-x-2">
            <div class="w-8 h-8 ton-gradient rounded-lg flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="white" d="M19.012 9.201L12.66 19.316a.857.857 0 0 1-1.453-.005L4.98 9.197a1.8 1.8 0 0 1-.266-.943a1.856 1.856 0 0 1 1.882-1.826h10.817c1.033 0 1.873.815 1.873 1.822a1.8 1.8 0 0 1-.274.951M6.51 8.863l4.633 7.144V8.143H6.994c-.48 0-.694.317-.484.72m6.347 7.144l4.633-7.144c.214-.403-.004-.72-.484-.720h-4.149z"/></svg>
            </div>
            <h1 class="text-2xl font-bold bg-clip-text text-transparent ton-gradient">Tonive</h1>
        </div>
        <div class="bg-yellow-500 text-yellow-900 px-3 py-1 rounded-full text-xs font-bold">
            DEVNET
        </div>
    </header>

    <!-- Hero Section -->
    <section class="max-w-4xl mx-auto px-4 py-12 text-center">
        <h1 class="text-4xl md:text-5xl font-bold mb-6">Claim <span class="ton-gradient bg-clip-text text-transparent">Free TON</span> Every 30 Minutes</h1>
        <p class="text-lg text-gray-300 mb-8 max-w-2xl mx-auto">
            Pay a small one-time fee of 0.09 TON and start claiming 0.1 TON every 30 minutes forever!
        </p>
        
        <div class="max-w-lg mx-auto bg-gray-800 rounded-xl overflow-hidden shadow-xl">
            <div class="p-6">
                <div class="flex justify-between items-center mb-4">
                    <div class="text-left">
                        <p class="text-gray-400">Next claim in:</p>
                        <p id="countdown" class="text-2xl font-mono font-bold">30:00</p>
                    </div>
                    <div class="text-right">
                        <p class="text-gray-400">Your balance:</p>
                        <p id="balance" class="text-2xl font-bold">0.0 TON</p>
                    </div>
                </div>
                
                <div class="progress-bar rounded-full mb-6"></div>
                
                <div id="wallet-section" class="mb-4">
                    <button id="connect-wallet" class="w-full py-3 px-6 bg-blue-500 hover:bg-blue-600 rounded-lg font-semibold flex items-center justify-center space-x-2 transition-all">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                            <path d="M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z" />
                            <path fill-rule="evenodd" d="M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z" clip-rule="evenodd" />
                        </svg>
                        <span>Connect Wallet</span>
                    </button>
                </div>
                
                <div id="payment-section" class="hidden">
                    <div class="bg-gray-900 rounded-lg p-4 mb-4 wallet-connected">
                        <div class="flex justify-between items-center">
                            <span class="text-sm font-medium">Wallet Connected</span>
                            <span id="wallet-address" class="text-xs font-mono truncate max-w-[120px]"></span>
                        </div>
                    </div>
                    
                    <button id="pay-fee" class="w-full py-3 px-6 bg-green-500 hover:bg-green-600 rounded-lg font-semibold mb-4 transition-all claiming-animation">
                        Pay 0.09 TON Fee to Activate
                    </button>
                    
                    <p class="text-xs text-gray-400">
                        Fee will be sent to: <span class="font-mono">0QC-RRGV1pcIc1_vypq4bE2PoQSoSlNdzEW3EWI30zQhxZc8</span>
                    </p>
                </div>
                
                <div id="claim-section" class="hidden">
                    <button id="claim-button" class="w-full py-3 px-6 bg-green-500 hover:bg-green-600 rounded-lg font-semibold mb-4 transition-all">
                        Claim 0.1 TON Now!
                    </button>
                    <p class="text-sm text-gray-300">
                        Next claim available in: <span id="next-claim" class="font-bold">30:00</span>
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- How It Works -->
    <section class="max-w-4xl mx-auto px-4 py-12">
        <h2 class="text-3xl font-bold text-center mb-12">How It Works</h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <div class="bg-gray-800 rounded-xl p-6 text-center">
                <div class="w-12 h-12 ton-gradient rounded-full flex items-center justify-center mx-auto mb-4">
                    <span class="text-white font-bold">1</span>
                </div>
                <h3 class="text-xl font-semibold mb-2">Connect Wallet</h3>
                <p class="text-gray-300">Connect your TON wallet using Tonkeeper or similar wallet</p>
            </div>
            <div class="bg-gray-800 rounded-xl p-6 text-center">
                <div class="w-12 h-12 ton-gradient rounded-full flex items-center justify-center mx-auto mb-4">
                    <span class="text-white font-bold">2</span>
                </div>
                <h3 class="text-xl font-semibold mb-2">Pay Small Fee</h3>
                <p class="text-gray-300">Pay a one-time activation fee of 0.09 TON to start claiming</p>
            </div>
            <div class="bg-gray-800 rounded-xl p-6 text-center">
                <div class="w-12 h-12 ton-gradient rounded-full flex items-center justify-center mx-auto mb-4">
                    <span class="text-white font-bold">3</span>
                </div>
                <h3 class="text-xl font-semibold mb-2">Claim Forever</h3>
                <p class="text-gray-300">Claim 0.1 TON every 30 minutes as long as you want!</p>
            </div>
        </div>
    </section>

    <!-- Testimonials -->
    <section class="max-w-4xl mx-auto px-4 py-12">
        <h2 class="text-3xl font-bold text-center mb-12">What Users Say</h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <div class="testimonial-card bg-gray-800 rounded-xl p-6">
                <div class="flex items-center mb-4">
                    <img src="https://i.pravatar.cc/150?img=32" alt="User" class="w-12 h-12 rounded-full mr-4">
                    <div>
                        <h3 class="font-semibold">Alex M.</h3>
                        <div class="flex text-yellow-400">
                            ★★★★★
                        </div>
                    </div>
                </div>
                <p class="text-gray-300 italic">"I've earned over 5 TON already! This faucet is the real deal. The small fee is totally worth it."</p>
            </div>
            <div class="testimonial-card bg-gray-800 rounded-xl p-6">
                <div class="flex items-center mb-4">
                    <img src="https://i.pravatar.cc/150?img=12" alt="User" class="w-12 h-12 rounded-full mr-4">
                    <div>
                        <h3 class="font-semibold">Sarah K.</h3>
                        <div class="flex text-yellow-400">
                            ★★★★★
                        </div>
                    </div>
                </div>
                <p class="text-gray-300 italic">"Best TON faucet out there! I claim every 30 minutes while working. Already made back my fee 10x."</p>
            </div>
            <div class="testimonial-card bg-gray-800 rounded-xl p-6">
                <div class="flex items-center mb-4">
                    <img src="https://i.pravatar.cc/150?img=44" alt="User" class="w-12 h-12 rounded-full mr-4">
                    <div>
                        <h3 class="font-semibold">James T.</h3>
                        <div class="flex text-yellow-400">
                            ★★★★★
                        </div>
                    </div>
                </div>
                <p class="text-gray-300 italic">"I was skeptical at first, but this actually works! The payments come like clockwork every 30 minutes."</p>
            </div>
        </div>
    </section>

    <!-- FAQ -->
    <section class="max-w-4xl mx-auto px-4 py-12">
        <h2 class="text-3xl font-bold text-center mb-12">Frequently Asked Questions</h2>
        <div class="space-y-4">
            <div class="bg-gray-800 rounded-xl p-6">
                <h3 class="text-lg font-semibold mb-2">Is this really free?</h3>
                <p class="text-gray-300">Yes! After the small one-time activation fee, you can claim 0.1 TON every 30 minutes forever with no additional costs.</p>
            </div>
            <div class="bg-gray-800 rounded-xl p-6">
                <h3 class="text-lg font-semibold mb-2">When will I receive my TON?</h3>
                <p class="text-gray-300">TON is sent instantly to your wallet after each claim. Transactions usually take less than 10 seconds to process.</p>
            </div>
            <div class="bg-gray-800 rounded-xl p-6">
                <h3 class="text-lg font-semibold mb-2">Can I claim more than 0.1 TON?</h3>
                <p class="text-gray-300">The standard reward is 0.1 TON every 30 minutes. We occasionally run promotions with higher rewards for active users.</p>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="py-8 text-center text-gray-500 text-sm">
        <p>© 2023 Tonive. All rights reserved. This service operates on TON Devnet for testing purposes.</p>
    </footer>

    <!-- Confetti Container -->
    <div id="confetti-container" class="fixed inset-0 pointer-events-none z-50 overflow-hidden hidden"></div>

    <script>
        // TON Connect SDK initialization
        const connector = new window.TonConnectSDK.TonConnect({
            manifestUrl: 'https://your-domain.com/tonconnect-manifest.json', // Replace with your actual manifest URL
            network: 'testnet' // Explicitly set to TON Devnet (testnet)
        });

        // DOM elements
        const connectWalletBtn = document.getElementById('connect-wallet');
        const payFeeBtn = document.getElementById('pay-fee');
        const claimBtn = document.getElementById('claim-button');
        const walletSection = document.getElementById('wallet-section');
        const paymentSection = document.getElementById('payment-section');
        const claimSection = document.getElementById('claim-section');
        const countdownEl = document.getElementById('countdown');
        const nextClaimEl = document.getElementById('next-claim');
        const balanceEl = document.getElementById('balance');
        const walletAddressEl = document.getElementById('wallet-address');
        const confettiContainer = document.getElementById('confetti-container');

        // State variables
        let countdownInterval;
        let claimCount = 0;
        let countdownTime = 30 * 60; // 30 minutes in seconds
        let currentTime = countdownTime;
        let walletConnected = false;
        let feePaid = false;

        // TON Devnet faucet contract address
        const FAUCET_ADDRESS = '0QC-RRGV1pcIc1_vypq4bE2PoQSoSlNdzEW3EWI30zQhxZc8';

        // Initialize
        document.addEventListener('DOMContentLoaded', async () => {
            // Restore wallet connection
            await connector.restoreConnection();

            // Simulate fee paid state (replace with blockchain check)
            feePaid = localStorage.getItem('tonive_fee_paid') === 'true';

            if (feePaid && connector.connected) {
                walletSection.classList.add('hidden');
                paymentSection.classList.add('hidden');
                claimSection.classList.remove('hidden');
                startCountdown();
            }

            // Wallet status change handler
            connector.onStatusChange(async (wallet) => {
                if (wallet) {
                    walletConnected = true;
                    walletAddressEl.textContent = `${wallet.account.address.slice(0, 6)}...${wallet.account.address.slice(-4)}`;
                    walletSection.classList.add('hidden');
                    paymentSection.classList.remove('hidden');
                    if (feePaid) {
                        paymentSection.classList.add('hidden');
                        claimSection.classList.remove('hidden');
                        startCountdown();
                    }
                } else {
                    walletConnected = false;
                    walletSection.classList.remove('hidden');
                    paymentSection.classList.add('hidden');
                    claimSection.classList.add('hidden');
                    clearInterval(countdownInterval);
                }
            });
        });

        // Connect wallet button
        connectWalletBtn.addEventListener('click', async () => {
            try {
                await connector.connect({
                    jsons: [
                        {
                            name: 'tonkeeper',
                            appName: 'tonkeeper'
                        }
                    ]
                });
            } catch (error) {
                showNotification('error', 'Failed to connect wallet: ' + error.message);
            }
        });

        // Pay fee button
        payFeeBtn.addEventListener('click', async () => {
            if (!walletConnected) {
                showNotification('error', 'Please connect your wallet first.');
                return;
            }

            payFeeBtn.innerHTML = `
                <div class="flex items-center justify-center">
                    <div class="animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"></div>
                    Processing...
                </div>
            `;
            payFeeBtn.disabled = true;

            try {
                const transaction = {
                    validUntil: Math.floor(Date.now() / 1000) + 60,
                    messages: [
                        {
                            address: FAUCET_ADDRESS,
                            amount: '90000000' // 0.09 TON in nanotons
                        }
                    ]
                };

                await connector.sendTransaction(transaction);

                feePaid = true;
                localStorage.setItem('tonive_fee_paid', 'true');

                paymentSection.classList.add('hidden');
                claimSection.classList.remove('hidden');
                startCountdown();

                showNotification('success', 'Fee payment successful! You can now claim your TON.');
            } catch (error) {
                showNotification('error', 'Payment failed: ' + error.message);
            } finally {
                payFeeBtn.innerHTML = 'Pay 0.09 TON Fee to Activate';
                payFeeBtn.disabled = false;
            }
        });

        // Claim button
        claimBtn.addEventListener('click', async () => {
            if (currentTime > 0) {
                showNotification('error', 'Please wait until the next claim is available.');
                return;
            }

            if (!walletConnected) {
                showNotification('error', 'Please connect your wallet.');
                return;
            }

            claimBtn.innerHTML = `
                <div class="flex items-center justify-center">
                    <div class="animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"></div>
                    Claiming...
                </div>
            `;
            claimBtn.disabled = true;

            try {
                const transaction = {
                    validUntil: Math.floor(Date.now() / 1000) + 60,
                    messages: [
                        {
                            address: FAUCET_ADDRESS,
                            amount: '0',
                            payload: btoa('claim') // Replace with actual contract payload
                        }
                    ]
                };

                await connector.sendTransaction(transaction);

                claimCount++;
                balanceEl.textContent = `${(claimCount * 0.1).toFixed(1)} TON`;

                currentTime = countdownTime;
                updateCountdownDisplay();

                createConfetti();

                showNotification('success', '0.1 TON claimed successfully! Added to your balance.');
            } catch (error) {
                showNotification('error', 'Claim failed: ' + error.message);
            } finally {
                claimBtn.innerHTML = 'Claim 0.1 TON Now!';
                claimBtn.disabled = false;
            }
        });

        // Countdown functions
        function startCountdown() {
            clearInterval(countdownInterval);
            countdownInterval = setInterval(() => {
                if (currentTime > 0) {
                    currentTime--;
                    updateCountdownDisplay();
                }
            }, 1000);
        }

        function updateCountdownDisplay() {
            const minutes = Math.floor(currentTime / 60);
            const seconds = currentTime % 60;
            countdownEl.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            nextClaimEl.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            claimBtn.disabled = currentTime > 0;
        }

        // Confetti effect
        function createConfetti() {
            confettiContainer.classList.remove('hidden');
            confettiContainer.innerHTML = '';

            for (let i = 0; i < 150; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = `${Math.random() * 100}vw`;
                confetti.style.top = `${Math.random() * -20}vh`;
                confetti.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 50%)`;
                confetti.style.opacity = Math.random() * 0.5 + 0.5;
                confetti.style.width = `${Math.random() * 10 + 5}px`;
                confetti.style.height = confetti.style.width;
                confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';

                confettiContainer.appendChild(confetti);

                const animation = confetti.animate(
                    [
                        { transform: `translateY(0) rotate(0deg)`, opacity: 1 },
                        { transform: `translateY(${window.innerHeight + 100}px) rotate(${Math.random() * 720 - 360}deg)`, opacity: 0 }
                    ],
                    {
                        duration: Math.random() * 3000 + 2000,
                        easing: 'cubic-bezier(0,0.8,1,0.2)'
                    }
                );

                animation.onfinish = () => confetti.remove();
            }

            setTimeout(() => {
                if (confettiContainer.children.length === 0) {
                    confettiContainer.classList.add('hidden');
                }
            }, 5000);
        }

        // Notification system
        function showNotification(type, message) {
            const notification = document.createElement('div');
            notification.className = `notification ${type === 'success' ? 'bg-green-500' : 'bg-red-500'}`;
            notification.textContent = message;
            document.body.appendChild(notification);
            setTimeout(() => notification.remove(), 3000);
        }
    </script>
</body>
</html>
